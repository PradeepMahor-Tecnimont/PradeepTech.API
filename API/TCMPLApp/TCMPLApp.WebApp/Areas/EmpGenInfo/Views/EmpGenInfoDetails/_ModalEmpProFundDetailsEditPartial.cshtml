@model TCMPLApp.WebApp.Models.EmpGenInfoProFundNomineeViewModel
@inject TCMPLApp.WebApp.Services.SharedViewLocalizer localizer

<input type="hidden" asp-for="Empno" />
@{
    string isOnBehalf = ViewBag.isOnBehalf ?? NotOk;
    string urlEmpProFundAdd = isOnBehalf == IsOk ? Url.Action("OnBehalfEmpProFundNomineeAdd", "EmpGenInfoDetails") : Url.Action("EmpProFundNomineeAdd", "EmpGenInfoDetails");

}
@section Styles {
    <link href="@Url.Content("~/css/drome-style.css")" rel="stylesheet" type="text/css" asp-append-version="true" />
}

<div class="card-deck">
    <div class="card shadow col-md-12 col-xl">

        <div class="app-h4 app-card-header p-2">
            @if (isOnBehalf == IsOk)
            {
                @localizer["Employees Provident Fund Nominees (On BeHalf)"]
            }
            else
            {
                @localizer["Employees Provident Fund Nominees"]
            }
        </div>

        <div class="card-body">
            <span id="spanDescriptionEpfStatus" class="f-12 badge badge-danger" style="text-align: left"></span>
            <div class="d-flex flex-row">
                @if (@Model.LockStatusDetailViewModel.IsNominationOpen == "OK")
                {
                    <a title="New Employees Provident Fund Nominee" class="btn btn-outline-primary btn-sm border border-white" href="#"
                       data-jqueryselector="openmodal"
                       data-modalcontainer="modalcontainer"
                       data-modalpopupwidth="rightw35"
                       data-url=@urlEmpProFundAdd
                    @*data-url='@Url.Action("EmpProFundNomineeAdd", "EmpGenInfoDetails", new { Area = "EmpGenInfo" })'*@
                       data-statichtmlsourcedivid=""
                       data-id="@Model.Empno"
                       data-modaltitle="New Employees Provident Fund Nominee"
                       data-modalheader="New Employees Provident Fund Nominee">
                        <i class="fas fa-plus"></i> Add
                    </a>
                }
            </div>

            <table id="tbEmpProFundGrid" class="table table-striped table-bordered table-responsive-lg ">
                <thead class="bg-info text-white">
                    <tr>
                        <th>Nominee Name</th>
                        <th>Relation</th>
                        <th>Birth Date</th>
                        <th>Share (%)</th>
                        <th>Guardian Name</th>
                        <th>Relation With Minor</th>
                        @if (@Model.LockStatusDetailViewModel.IsNominationOpen == "OK")
                        {
                            <th>&nbsp;</th>
                            <th>&nbsp;</th>
                        }
                    </tr>
                </thead>
            </table>

        </div>
    </div>

</div>


