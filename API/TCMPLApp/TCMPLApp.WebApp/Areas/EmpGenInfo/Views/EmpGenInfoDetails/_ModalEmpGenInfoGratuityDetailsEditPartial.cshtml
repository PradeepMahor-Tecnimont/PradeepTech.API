@model TCMPLApp.WebApp.Models.EmpGenInfoGratuityViewModel
@inject TCMPLApp.WebApp.Services.SharedViewLocalizer localizer

@{
    string isOnBehalf = ViewBag.isOnBehalf ?? NotOk;
    string urlGratuityAdd = isOnBehalf == IsOk ? Url.Action("OnBehalfGratuityNominationAdd", "EmpGenInfoDetails") : Url.Action("GratuityNominationAdd", "EmpGenInfoDetails");

}
@section Styles {
    <link href="@Url.Content("~/css/drome-style.css")" rel="stylesheet" type="text/css" asp-append-version="true" />
}

<input type="hidden" asp-for="@Model.Empno" />

<div class="card bg-gray-active border rounded shadow m-auto ">

    <div class="card-body" style="">



        <div class="card-deck" style="margin-top: 20px">
            <div class="card shadow col-md-12 col-xl-12">
                <div class="app-h4 app-card-header p-2">
                    @if (isOnBehalf == IsOk)
                    {
                        @localizer["Gratuity Nomination Details (On BeHalf)"]
                    }
                    else
                    {
                        @localizer["Gratuity Nomination Details"]
                    }
                </div>
                <div class="card-body">
                    <span id="spanDescriptionGratuityStatus" class="f-12 badge badge-danger" style="text-align: left"></span>
                    <div class="d-flex flex-row">
                        @if (@Model.LockStatusDetailViewModel.IsNominationOpen == "OK")
                        {
                            <a title="New Gratuity Nomination" class="btn btn-outline-primary btn-sm border border-white" href="#"
                               data-jqueryselector="openmodal"
                               data-modalcontainer="modalcontainer"
                               data-modalpopupwidth="rightw35"
                               data-url=@urlGratuityAdd
                            @*data-url='@Url.Action("GratuityNominationAdd", "EmpGenInfoDetails", new { Area = "EmpGenInfo" })'*@
                               data-statichtmlsourcedivid=""
                               data-id="@Model.Empno"
                               data-modaltitle="New Gratuity Nomination"
                               data-modalheader="New Gratuity Nomination">
                                <i class="fas fa-plus"></i> Add
                            </a>
                        }


                    </div>
                    <table id="tbGratuityGrid" class="table table-striped table-bordered table-responsive-lg ">
                        <thead class="bg-info text-white">
                            <tr>
                                <th>Nominee Name</th>
                                <th>Nominee Address</th>
                                <th>Relation</th>
                                <th>Nominee Birth Date</th>
                                <th>Share (%)</th>
                                @if (@Model.LockStatusDetailViewModel.IsNominationOpen == "OK")
                                {
                                    <th>&nbsp;</th>
                                    <th>&nbsp;</th>
                                }

                            </tr>
                        </thead>
                    </table>

                </div>
            </div>

        </div>
    </div>
</div>
