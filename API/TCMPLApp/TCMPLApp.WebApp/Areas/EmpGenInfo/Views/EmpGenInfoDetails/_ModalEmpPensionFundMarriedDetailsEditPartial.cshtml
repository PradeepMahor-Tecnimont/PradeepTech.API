@model TCMPLApp.WebApp.Models.EmpPensionFundMarriedMemberViewModel
@inject TCMPLApp.WebApp.Services.SharedViewLocalizer localizer
@{
    string isOnBehalf = ViewBag.isOnBehalf ?? NotOk;
    string urlPensionFundMarriedAdd = isOnBehalf == IsOk ? Url.Action("OnBehalfEmpPensionFundMarriedMemAdd", "EmpGenInfoDetails") : Url.Action("EmpPensionFundMarriedMemAdd", "EmpGenInfoDetails");

}
@section Styles {
    <link href="@Url.Content("~/css/drome-style.css")" rel="stylesheet" type="text/css" asp-append-version="true" />
}
<input type="hidden" asp-for="@Model.Empno" />

<div class="card-deck ">

    <div class="card shadow col-md-12 col-xl">
        <div class="app-h4 app-card-header p-2">
            @if (isOnBehalf == IsOk)
            {
                @localizer["Employees Pension Fund(for married members only) (On BeHalf)"]
            }
            else
            {
                @localizer["Employees Pension Fund(for married members only)"]
            }
        </div>
        <div class="card-body">
            <span id="spanDescriptionEpsmStatus" class="f-12 badge badge-danger" style="text-align: left"></span>
            <div class="d-flex flex-row">
                @if (@Model.LockStatusDetailViewModel.IsNominationOpen == "OK")
                {
                    <a title="New Employees Pension Fund" class="btn btn-outline-primary btn-sm border border-white" href="#"
                       data-jqueryselector="openmodal"
                       data-modalcontainer="modalcontainer"
                       data-modalpopupwidth="rightw35"
                       data-url=@urlPensionFundMarriedAdd
                    @*data-url='@Url.Action("EmpPensionFundMarriedMemAdd", "EmpGenInfoDetails", new { Area = "EmpGenInfo" })'*@
                       data-statichtmlsourcedivid=""
                       data-id="@Model.Empno"
                       data-modaltitle="New Employees Pension Fund"
                       data-modalheader="New Employees Pension Fund">
                        <i class="fas fa-plus"></i> Add
                    </a>
                }
            </div>

            <table id="tbEmpPensionFundMarriedGrid" class="table table-striped table-bordered table-responsive-lg ">
                <thead class="bg-info text-white">
                    <tr>
                        <th>Nominee Name</th>
                        <th>Nominee Address</th>
                        <th>Relation</th>
                        <th>Birth Date</th>
                        @if (@Model.LockStatusDetailViewModel.IsNominationOpen == "OK")
                        {
                            <th>&nbsp;</th>
                            <th>&nbsp;</th>
                        }
                    </tr>
                </thead>
            </table>

        </div>
    </div>
</div>

