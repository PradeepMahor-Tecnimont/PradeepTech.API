@model TCMPLApp.WebApp.Models.OFBInitViewModel
@inject TCMPLApp.WebApp.Services.SharedViewLocalizer localizer

<form asp-controller="OFB"
      asp-action="OFBHistoryDetails"
      id="formApprovalDetails">

    <input type="hidden" asp-for="Empno" name="id" id="Empno" />
</form>
<div class="bg-gray-active rounded ">
    <div class="card-toolbar">
        @if (CurrentUserIdentity.ProfileActions.Any(p => p.ActionId == TCMPLApp.Domain.Models.OffBoarding.OffBoardingHelper.ActionNormalReport))
        {
            <a style="float:right"
               class="btn btn-outline-success btn-sm border border-white mx-2 ml-auto"
               href="#"
               data-jqueryselector="openmodal"
               data-modalcontainer="modalcontainer"
               data-modalpopupwidth="rightw25"
               data-url='@Url.Action("OFBExcelDownload", "OFB", new { typeId = @ViewBag.XLDownloadType })'>
                <i class="fas fa-file-excel green-color"></i>&nbsp;Export
            </a>
        }
        @if (CurrentUserIdentity.ProfileActions.Any(p => p.ActionId == TCMPLApp.Domain.Models.OffBoarding.OffBoardingHelper.ActionClassifiedReport))
        {
            <a style="width:auto;float:right"
               class="btn btn-outline-success btn-sm border border-white "
               href="#"
               data-jqueryselector="openmodal"
               data-modalcontainer="modalcontainer"
               data-modalpopupwidth="rightw25"
               data-url='@Url.Action("OFBExcelDownload", "OFB", new { typeId = "ConfidentialXLDownload"})'>
                <i class="fas fa-file-excel green-color"></i>&nbsp;Export Contact Details
            </a>
        }
       
    </div>
    
    <div class="input-group pt-1 pl-1 pr-1 ">
        <input type="text" class="form-control form-control-sm border" id="OFBAllApprovalsHistorySearch" name="GenericSearch"
               onkeypress="genericSearchKeypress('OFBAllApprovalsHistorySearch')" placeholder="Search...">
        <div class="input-group-append">
            <button class="btn btn-sm btn-outline-info" type="button" id="buttonOFBAllApprovalsHistory" onclick="genericSearchOnClick('OFBAllApprovalsHistorySearch')">
                <i class="fa fa-search"></i>
            </button>
        </div>
    </div>
    <div class="card-table">

        <div class="table-responsive">
            <table id="tbOFBAllApprovalsHistory" class="table table-striped table-bordered table-responsive-lg">
                @if ((bool)@Context.Items["isMobile"] == false)
                {
                    <thead class="bg-info text-white">
                        <tr>
                            <th>&nbsp;</th>
                            <th>@Html.DisplayNameFor(m => m.Empno)</th>
                            <th>@Html.DisplayNameFor(m => m.EmpName)</th>
                            <th>@Html.DisplayNameFor(m => m.Parent)</th>
                            <th>@Html.DisplayNameFor(m => m.ParentName)</th>
                            <th>@Html.DisplayNameFor(m => m.Grade)</th>
                            <th>@Html.DisplayNameFor(m => m.RelievingDate)</th>
                            <th>@Html.DisplayNameFor(m => m.Remarks)</th>
                            <th>@Html.DisplayNameFor(m => m.ApprovalStatus)</th>
                        </tr>
                    </thead>
                }
            </table>
        </div>
    </div>
</div>

