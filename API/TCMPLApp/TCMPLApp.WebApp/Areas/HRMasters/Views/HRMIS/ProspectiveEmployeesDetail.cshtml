@model TCMPLApp.WebApp.Models.ProspectiveEmployeesUpdateViewModel
@inject TCMPLApp.WebApp.Services.SharedViewLocalizer localizer
@{
    ViewData["Title"] = "Prospective employees";
}

@section BreadCrumbs
    {
    <ol class="breadcrumb">
        <li class="breadcrumb-item "><a asp-action="Index" asp-controller="Home" asp-area="HRMasters">HR Masters</a></li>
        <li class="breadcrumb-item " aria-current="page"><a asp-action="ProspectiveEmployeesIndex" asp-controller="HRMIS" asp-area="HRMasters">Prospective employees list</a></li>
        <li class="breadcrumb-item active" aria-current="page">Prospective employee details</li>
    </ol>
}
@section styles
    {
    <link href="@Url.Content("~/css/drome-style.css")" rel="stylesheet" type="text/css" asp-append-version="true" />
    <style>
        @@media (-webkit-min-device-pixel-ratio: 1.25) {
            .openbal .col-xl-1, .closebal .col-xl-1 {
                flex: 0 0 12% !important;
                max-width: 12% !important;
            }
        }
    </style>
}

<form asp-area="HRMasters" asp-controller="HRMIS" asp-action="ProspectiveEmployeesDetailsEdit">
    <input type="hidden" asp-for="KeyId" />
    <input type="hidden" asp-for="@Model.ProposedDoj" />
    <input type="hidden" asp-for="@Model.RevisedDoj" />
    <input type="hidden" asp-for="@Model.MedicalRequestDate" />
    <input type="hidden" asp-for="@Model.ActualAppointmentDate" />
    <input type="hidden" asp-for="@Model.MedicalFitnessCertificate" />
    <input type="hidden" asp-for="@Model.RecommendationIssued" />
    <input type="hidden" asp-for="@Model.RecommendationReceived" />
    <input type="hidden" asp-for="@Model.EmpName" />

<div class="col-sm-12">

    <div class="card bg-gray-active border rounded shadow m-auto ">
        <div class="card-header">
            <h5 class="card-title">
                    Employee name : <b>@Html.Raw(@Model.EmpName)</b>
            </h5>
            <button class="btn btn-sm btn-primary f-w-600 m-l-30 btn-glow-blink" type="submit">
                <i class="fas fa-save" aria-hidden="true"></i> &nbsp;
                @localizer["Save"]
            </button>

            <a asp-action="ProspectiveEmployeesIndex" asp-controller="HRMIS" asp-area="HRMasters"
               title="Back" class="btn btn-outline-info btn-sm border-none float-right">
                <i class="fas fa-undo"></i>
                Back
            </a>
        </div>
        <div class="card-block ">

            <div class="card-deck">
                <div class="card col-md-12 col-xl-12">
                    <div class="card-body">
                        <div id="div1Details">
                            <div class="row p-2">
                                <div class="col-xl-4 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Costcode" class="control-label"></label>
                                        <select asp-for="Costcode" class="form-control chosen-select" data-placeholder=" Please select..." asp-items="ViewBag.CostCodeList" required>
                                            <option selected></option>
                                        </select>
                                        <span asp-validation-for="Costcode" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-xl-4 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="OfficeLocationCode" class="control-label"></label>
                                        <select asp-for="OfficeLocationCode" class="form-control chosen-select" data-placeholder=" Please select..." asp-items="ViewBag.OfficeList" required>
                                            <option selected></option>
                                        </select>
                                        <span asp-validation-for="OfficeLocationCode" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-xl-2 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="ProposedDoj" class="control-label"></label>
                                        <input id="proposedDoj" class="form-control datepicker" value="@Model.ProposedDoj?.ToString("dd/MMM/yyyy")" required />
                                        <span asp-validation-for="ProposedDoj" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-xl-2 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="RevisedDoj" class="control-label"></label>
                                            <input id="revisedDoj" class="form-control datepicker" value="@Model.RevisedDoj?.ToString("dd/MMM/yyyy")" />
                                     </div>
                                </div>


                            </div>
                            <div class="row p-2">
                                <div class="col-xl-4 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="JoinStatusCode" class="control-label"></label>
                                        <select asp-for="JoinStatusCode" class="form-control chosen-select"
                                                data-placeholder="Please select..." asp-items="ViewBag.JoiningStatusList" required>
                                            <option selected></option>
                                        </select>
                                        <span asp-validation-for="JoinStatusCode" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-xl-4 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Grade" class="control-label"></label>
                                        <select asp-for="Grade" class="form-control chosen-select"
                                                data-placeholder=" Please select..." asp-items="ViewBag.GradeList" required>
                                            <option selected></option>
                                        </select>
                                        <span asp-validation-for="Grade" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-xl-4 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Designation" class="control-label"></label>
                                        <select asp-for="Designation" class="form-control chosen-select"
                                                data-placeholder=" Please select..." asp-items="ViewBag.DesignationList" required>
                                            <option selected></option>
                                        </select>
                                        <span asp-validation-for="Designation" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row p-2">
                                <div class="col-xl-4 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="EmploymentType" class="control-label"></label>
                                        <select asp-for="EmploymentType" class="form-control chosen-select"
                                                data-placeholder=" Please select..." asp-items="ViewBag.EmploymentTypeList" required>
                                            <option selected></option>
                                        </select>
                                        <span asp-validation-for="EmploymentType" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-xl-4 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="SourcesOfCandidate" class="control-label"></label>
                                        <select asp-for="SourcesOfCandidate" asp-items="ViewBag.SourcesOfCandidateList"
                                                class="form-control chosen-select" data-placeholder=" Please select..." required>
                                            <option selected></option>
                                        </select>
                                        <span asp-validation-for="SourcesOfCandidate" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-xl-4 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="Empno" class="control-label"></label>
                                        <select asp-for="Empno" class="form-control chosen-select"
                                                data-placeholder=" Please select..." asp-items="ViewBag.EmployeeList">
                                            <option selected></option>
                                        </select>
                                        <span asp-validation-for="Empno" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr />
                        <div id="div2Details">
                            <div class="row p-2">
                                <div class="col-xl-3 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="PreEmploymentMedicalTest" class="control-label"></label>
                                        <select asp-for="PreEmploymentMedicalTest" class="form-control chosen-select" data-placeholder=" Please select..." asp-items="ViewBag.PreEmploymentMedicalTestList">
                                            <option selected></option>
                                        </select>
                                        <span asp-validation-for="PreEmploymentMedicalTest" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-xl-3 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="MedicalRequestDate" class="control-label"></label>
                                        <input id="medicalRequestDate" class="form-control datepicker" value="@Model.MedicalRequestDate?.ToString("dd/MMM/yyyy")" />
                                    </div>
                                </div>

                                <div class="col-xl-3 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="ActualAppointmentDate" class="control-label"></label>
                                        <input id="actualAppointmentDate" class="form-control datepicker" value="@Model.ActualAppointmentDate?.ToString("dd/MMM/yyyy")" />
                                    </div>
                                </div>

                                <div class="col-xl-3 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="MedicalFitnessCertificate" class="control-label"></label>
                                        <input id="medicalFitnessCertificate" class="form-control datepicker" value="@Model.MedicalFitnessCertificate?.ToString("dd/MMM/yyyy")" />
                                    </div>
                                </div>

                                <div class="col-xl-12 col-md-12">
                                    <div class="form-group">
                                        <label asp-for="RemarkPreEmploymentMedicalTest" class="control-label"></label>
                                        <textarea asp-for="RemarkPreEmploymentMedicalTest" class="form-control" rows="2"></textarea>
                                        <span asp-validation-for="RemarkPreEmploymentMedicalTest" class="text-danger"></span>
                                    </div>
                                </div>

                            </div>
                            <div class="row p-2">
                                <div class="col-xl-3 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="RecommendationForAppointment" class="control-label"></label>
                                        <select asp-for="RecommendationForAppointment" class="form-control chosen-select" data-placeholder=" Please select..." asp-items="ViewBag.RecommendationForAppointmentList">
                                            <option selected></option>
                                        </select>
                                        <span asp-validation-for="RecommendationForAppointment" class="text-danger"></span>
                                    </div>
                                </div>
                                    <div class="col-xl-3 col-md-6">
                                        <div class="form-group">
                                            <label asp-for="OfferLetter" class="control-label"></label>
                                            <select asp-for="OfferLetter" class="form-control chosen-select" data-placeholder=" Please select..." asp-items="ViewBag.OfferLetterList">
                                                <option selected></option>
                                            </select>
                                            <span asp-validation-for="OfferLetter" class="text-danger"></span>
                                        </div>
                                    </div>

                                <div class="col-xl-3 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="RecommendationIssued" class="control-label"></label>
                                        <input id="recommendationIssued" class="form-control datepicker" value="@Model.RecommendationIssued?.ToString("dd/MMM/yyyy")" />
                                    </div>
                                </div>

                                <div class="col-xl-3 col-md-6">
                                    <div class="form-group">
                                        <label asp-for="RecommendationReceived" class="control-label"></label>
                                        <input id="recommendationReceived" class="form-control datepicker" value="@Model.RecommendationReceived?.ToString("dd/MMM/yyyy")" />
                                    </div>
                                </div>

                                <div class="col-xl-12 col-md-12">
                                    <div class="form-group">
                                        <label asp-for="RemarkRecommendationForAppointment" class="control-label"></label>
                                        <textarea asp-for="RemarkRecommendationForAppointment" class="form-control" rows="2"></textarea>
                                        <span asp-validation-for="RemarkRecommendationForAppointment" class="text-danger"></span>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>

</div>
</form>
@section Scripts{
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        $(document).ready(function () {
            localScript();

        });

        function localScript() {
            initSelect2();
            initDatePicker();

        };
        function initDatePicker() {


            $('.datepicker').bootstrapMaterialDatePicker({
                format: 'DD-MMM-YYYY',
                weekStart: 0,
                time: false,
                nowButton: true
            });

            $('#proposedDoj').bootstrapMaterialDatePicker({
                format: 'DD-MMM-YYYY',
                weekStart: 0,
                time: false
            }).on('change', function (e, date) {
                $("#ProposedDoj").val(date.format('DD-MMM-YYYY'));
            });

            $('#revisedDoj').bootstrapMaterialDatePicker({
                format: 'DD-MMM-YYYY',
                weekStart: 0,
                time: false
            }).on('change', function (e, date) {
                $("#RevisedDoj").val(date.format('DD-MMM-YYYY'));
            });


            $('#medicalFitnessCertificate').bootstrapMaterialDatePicker({
                format: 'DD-MMM-YYYY',
                weekStart: 0,
                time: false
            }).on('change', function (e, date) {
                $("#MedicalFitnessCertificate").val(date.format('DD-MMM-YYYY'));
            });
            $('#actualAppointmentDate').bootstrapMaterialDatePicker({
                format: 'DD-MMM-YYYY',
                weekStart: 0,
                time: false
            }).on('change', function (e, date) {
                $("#ActualAppointmentDate").val(date.format('DD-MMM-YYYY'));
            });

            $('#medicalRequestDate').bootstrapMaterialDatePicker({
                format: 'DD-MMM-YYYY',
                weekStart: 0,
                time: false
            }).on('change', function (e, date) {
                $("#MedicalRequestDate").val(date.format('DD-MMM-YYYY'));
            });

            $('#recommendationIssued').bootstrapMaterialDatePicker({
                format: 'DD-MMM-YYYY',
                weekStart: 0,
                time: false
            }).on('change', function (e, date) {
                $("#RecommendationIssued").val(date.format('DD-MMM-YYYY'));
            });

            $('#recommendationReceived').bootstrapMaterialDatePicker({
                format: 'DD-MMM-YYYY',
                weekStart: 0,
                time: false
            }).on('change', function (e, date) {
                $("#RecommendationReceived").val(date.format('DD-MMM-YYYY'));
            });


        }

        function showConfirmationPopup(){

            swal({
                title: "Are you sure?",
                text: "Do you want to save details..!",
                type: "warning",
                showCancelButton: true,
                //confirmButtonColor: "#DD6B55",
                confirmButtonText: "Yes",
                cancelButtonText: "No",
                closeOnConfirm: false,
                closeOnCancel: false
            },
            function (isConfirm) {
                if (isConfirm) {
                    swal("Saved!", "Details has been saved.", "success");
                } else {
                        swal("Canceled", "Details not saved", "error");
                }
            });

        }

    </script>
}
